<?xml version="1.0" encoding="ASCII"?>
<cupidLanguage:Mappings xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cupidLanguage="http://www.earthsystemcurator.org/CupidLanguage">
  <language name="NUOPC">
    <conceptDef top="true" name="NUOPCApplication">
      <body>
        <subconcept xsi:type="cupidLanguage:ConceptRef" localName="models" name="//@language.0/@conceptDef.2">
          <cardinality zeroOrMore="true"/>
        </subconcept>
      </body>
    </conceptDef>
    <conceptDef name="SetServices">
      <mapping>
        <mapping xsi:type="cupidLanguage:Subroutine">
          <name xsi:type="cupidLanguage:PathExpr">
            <segments>name</segments>
          </name>
          <params>
            <intent inout="true"/>
            <type derived="true">
              <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_GridComp"/>
            </type>
            <name xsi:type="cupidLanguage:PathExpr">
              <segments>gcomp</segments>
            </name>
          </params>
          <params>
            <intent out="true"/>
            <type integer="true"/>
            <name xsi:type="cupidLanguage:PathExpr">
              <segments>rc</segments>
            </name>
          </params>
        </mapping>
      </mapping>
      <body>
        <subconcept xsi:type="cupidLanguage:Attribute" name="name"/>
        <subconcept xsi:type="cupidLanguage:Attribute" name="gcomp"/>
        <subconcept xsi:type="cupidLanguage:Attribute" name="rc"/>
      </body>
    </conceptDef>
    <conceptDef name="NUOPCModel">
      <mapping>
        <mapping xsi:type="cupidLanguage:Module"/>
      </mapping>
      <annotation key="label" value="NUOPC Model"/>
      <annotation key="doc" value="NUOPC Model is a generic model component that wraps a model code so it is suitable to be plugged into a generic Driver component."/>
      <body>
        <subconcept xsi:type="cupidLanguage:Attribute" name="name">
          <mapping>
            <mapping xsi:type="cupidLanguage:SubroutineName"/>
          </mapping>
        </subconcept>
        <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="genericImports">
          <mapping>
            <mapping xsi:type="cupidLanguage:UsesModule">
              <name xsi:type="cupidLanguage:IDOrWildcard" id="NUOPC_Model"/>
            </mapping>
          </mapping>
          <body>
            <subconcept xsi:type="cupidLanguage:Attribute" required="true" name="importsGenericSS">
              <mapping>
                <mapping xsi:type="cupidLanguage:UsesEntity">
                  <name xsi:type="cupidLanguage:IDOrWildcard" id="routine_SetServices"/>
                </mapping>
              </mapping>
            </subconcept>
            <subconcept xsi:type="cupidLanguage:Attribute" name="importsLabelModelAdvance">
              <mapping>
                <mapping xsi:type="cupidLanguage:UsesEntity">
                  <name xsi:type="cupidLanguage:IDOrWildcard" id="label_ModelAdvance"/>
                </mapping>
              </mapping>
            </subconcept>
          </body>
        </subconcept>
        <subconcept xsi:type="cupidLanguage:ConceptRef" localName="implementsSetServices" name="//@language.0/@conceptDef.1"/>
        <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="initialize">
          <body>
            <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="implementsInitP1">
              <mapping>
                <mapping xsi:type="cupidLanguage:Subroutine">
                  <name xsi:type="cupidLanguage:PathExpr">
                    <segments>name</segments>
                  </name>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_GridComp"/>
                    </type>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>gcomp</segments>
                    </name>
                  </params>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_State"/>
                    </type>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>importParam</segments>
                    </name>
                  </params>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_State"/>
                    </type>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>exportParam</segments>
                    </name>
                  </params>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_Clock"/>
                    </type>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>clock</segments>
                    </name>
                  </params>
                  <params>
                    <intent out="true"/>
                    <type integer="true"/>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>rc</segments>
                    </name>
                  </params>
                </mapping>
              </mapping>
              <body>
                <subconcept xsi:type="cupidLanguage:Attribute" name="name"/>
                <subconcept xsi:type="cupidLanguage:Attribute" name="importParam"/>
                <subconcept xsi:type="cupidLanguage:Attribute" name="exportParam"/>
                <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="advertisesImportField">
                  <cardinality zeroOrMore="true"/>
                  <mapping>
                    <mapping xsi:type="cupidLanguage:Call">
                      <subroutineName xsi:type="cupidLanguage:IDOrWildcard" id="NUOPC_StateAdvertiseField"/>
                      <params>
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>addsToState</segments>
                        </value>
                      </params>
                      <params keyword="StandardName">
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>standardName</segments>
                        </value>
                      </params>
                      <params>
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>rc</segments>
                        </value>
                      </params>
                    </mapping>
                  </mapping>
                </subconcept>
                <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="advertisesExportField">
                  <cardinality zeroOrMore="true"/>
                  <mapping>
                    <mapping xsi:type="cupidLanguage:Call">
                      <subroutineName xsi:type="cupidLanguage:IDOrWildcard" id="NUOPC_StateAdvertiseField"/>
                      <params>
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>addsToState</segments>
                        </value>
                      </params>
                      <params keyword="StandardName">
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>standardName</segments>
                        </value>
                      </params>
                      <params>
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>rc</segments>
                        </value>
                      </params>
                    </mapping>
                  </mapping>
                </subconcept>
              </body>
            </subconcept>
            <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="implementsInitP2">
              <mapping>
                <mapping xsi:type="cupidLanguage:Subroutine">
                  <name xsi:type="cupidLanguage:PathExpr">
                    <segments>name</segments>
                  </name>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_GridComp"/>
                    </type>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>gcomp</segments>
                    </name>
                  </params>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_State"/>
                    </type>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>importParam</segments>
                    </name>
                  </params>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_State"/>
                    </type>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>exportParam</segments>
                    </name>
                  </params>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_Clock"/>
                    </type>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>clock</segments>
                    </name>
                  </params>
                  <params>
                    <intent out="true"/>
                    <type integer="true"/>
                    <name xsi:type="cupidLanguage:PathExpr">
                      <segments>rc</segments>
                    </name>
                  </params>
                </mapping>
              </mapping>
              <body>
                <subconcept xsi:type="cupidLanguage:Attribute" name="name"/>
                <subconcept xsi:type="cupidLanguage:Attribute" name="importParam"/>
                <subconcept xsi:type="cupidLanguage:Attribute" name="exportParam"/>
                <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="realizesImportField">
                  <cardinality zeroOrMore="true"/>
                  <mapping>
                    <mapping xsi:type="cupidLanguage:Call">
                      <subroutineName xsi:type="cupidLanguage:IDOrWildcard" id="NUOPC_StateRealizeField"/>
                      <params>
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>realizedInState</segments>
                        </value>
                      </params>
                      <params keyword="field">
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>field</segments>
                        </value>
                      </params>
                      <params keyword="rc">
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>rc</segments>
                        </value>
                      </params>
                    </mapping>
                  </mapping>
                </subconcept>
                <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="realizesExportField">
                  <cardinality zeroOrMore="true"/>
                  <mapping>
                    <mapping xsi:type="cupidLanguage:Call">
                      <subroutineName xsi:type="cupidLanguage:IDOrWildcard" id="NUOPC_StateRealizeField"/>
                      <params>
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>realizedInState</segments>
                        </value>
                      </params>
                      <params keyword="field">
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>field</segments>
                        </value>
                      </params>
                      <params keyword="rc">
                        <value xsi:type="cupidLanguage:PathExpr">
                          <segments>rc</segments>
                        </value>
                      </params>
                    </mapping>
                  </mapping>
                </subconcept>
              </body>
            </subconcept>
          </body>
        </subconcept>
        <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="modelAdvance">
          <cardinality zeroOrMore="true"/>
          <body>
            <subconcept xsi:type="cupidLanguage:Attribute" name="userRoutine"/>
            <subconcept xsi:type="cupidLanguage:Attribute" name="phase"/>
            <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="implementsSubroutine">
              <mapping>
                <mapping xsi:type="cupidLanguage:Subroutine">
                  <name xsi:type="cupidLanguage:PathExpr">
                    <segments>userRoutine</segments>
                  </name>
                  <params>
                    <intent inout="true"/>
                    <type derived="true">
                      <derivedType xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_GridComp"/>
                    </type>
                    <name xsi:type="cupidLanguage:IDOrWildcard" wildcard="true"/>
                  </params>
                  <params>
                    <intent out="true"/>
                    <type integer="true"/>
                    <name xsi:type="cupidLanguage:IDOrWildcard" wildcard="true"/>
                  </params>
                </mapping>
              </mapping>
            </subconcept>
            <subconcept xsi:type="cupidLanguage:AnonymousConcept" localName="registered">
              <mapping>
                <context>
                  <segments>..</segments>
                  <segments>..</segments>
                  <segments>implementsSetServices</segments>
                </context>
                <mapping xsi:type="cupidLanguage:Call">
                  <subroutineName xsi:type="cupidLanguage:IDOrWildcard" id="ESMF_MethodAdd"/>
                  <params>
                    <value xsi:type="cupidLanguage:PathExpr">
                      <segments>ignore</segments>
                    </value>
                  </params>
                  <params keyword="index" optional="true">
                    <value xsi:type="cupidLanguage:PathExpr">
                      <segments>phase</segments>
                    </value>
                  </params>
                  <params keyword="label">
                    <value xsi:type="cupidLanguage:PathExpr">
                      <segments>importsLabelModelAdvance</segments>
                    </value>
                  </params>
                  <params keyword="userRoutine">
                    <value xsi:type="cupidLanguage:PathExpr">
                      <segments>userRoutine</segments>
                    </value>
                  </params>
                  <params keyword="rc">
                    <value xsi:type="cupidLanguage:PathExpr">
                      <segments>..</segments>
                      <segments>..</segments>
                      <segments>implementsSetServices</segments>
                      <segments>rc</segments>
                    </value>
                  </params>
                </mapping>
              </mapping>
            </subconcept>
          </body>
        </subconcept>
      </body>
    </conceptDef>
  </language>
</cupidLanguage:Mappings>
